groups:
  - name: slo-burnrate
    rules:
      # SLO target: 99.9% availability => error budget 0.1% (0.001)
      # "Bad events" are times when up == 0
      #
      # Fast burn: page when outage rate would burn monthly budget quickly.
      - alert: SLOBurnRateFast
        expr: |
          (1 - avg_over_time(up{job="node"}[5m])) > 0.02
        for: 10m   # increased from 5m to reduce false fast-burn pages
        labels:
          severity: page
        annotations:
          summary: "Fast error budget burn (node monitoring availability)"
          description: "Availability is dropping sharply over 5m windows. Risk of missing SLO if sustained. Investigate immediately."

      # Slow burn: ticket when reliability is degrading but not urgent.
      - alert: SLOBurnRateSlow
        expr: |
          (1 - avg_over_time(up{job="node"}[30m])) > 0.005
        for: 30m
        labels:
          severity: ticket
        annotations:
          summary: "Slow error budget burn (node monitoring availability)"
          description: "Availability is degrading over longer windows. Investigate in business hours and reduce error budget consumption."

