groups:
  - name: node-basic
    rules:
      - alert: NodeExporterDown
        expr: up{job="node"} == 0
        for: 5m
        labels:
          severity: page
        annotations:
          summary: "Node exporter unavailable"
          description: "Exporter has been unreachable for 5 minutes. Check service status, port 9100, firewall rules, and host reachability."

      - alert: DiskWillFillSoon
        expr: (1 - (node_filesystem_avail_bytes{fstype!~"tmpfs|overlay"} / node_filesystem_size_bytes{fstype!~"tmpfs|overlay"})) > 0.90
        for: 10m
        labels:
          severity: ticket
        annotations:
          summary: "Disk usage high (>90%)"
          description: "Filesystem usage has exceeded 90% for 10 minutes. Identify growth source and remediate."
